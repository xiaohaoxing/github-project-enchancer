var _content=function(){"use strict";var Ze=Object.defineProperty;var he=d=>{throw TypeError(d)};var Ke=(d,u,A)=>u in d?Ze(d,u,{enumerable:!0,configurable:!0,writable:!0,value:A}):d[u]=A;var ne=(d,u,A)=>Ke(d,typeof u!="symbol"?u+"":u,A),re=(d,u,A)=>u.has(d)||he("Cannot "+A);var O=(d,u,A)=>(re(d,u,"read from private field"),A?A.call(d):u.get(d)),F=(d,u,A)=>u.has(d)?he("Cannot add the same private member more than once"):u instanceof WeakSet?u.add(d):u.set(d,A),ye=(d,u,A,M)=>(re(d,u,"write to private field"),M?M.call(d,A):u.set(d,A),A),se=(d,u,A)=>(re(d,u,"access private method"),A);var k,T,z,I,q,_,be,we;function d(t){return t}const u="filter-bar-component-input";function A(t){var o,b;const e=document.getElementById(u);if(!e)return;const r=((o=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"value"))==null?void 0:o.set)||((b=Object.getOwnPropertyDescriptor(window.HTMLTextAreaElement.prototype,"value"))==null?void 0:b.set);r?r.call(e,t):e.value=t;const n=new Event("input",{bubbles:!0,cancelable:!0});e.dispatchEvent(n),e.focus()}function M(t){const e=t.trim();return e===""?e:`title:*${e}*`}const D="github-project-saved-filters";async function P(){return new Promise(t=>{chrome.storage.local.get([D],e=>{const r=Array.isArray(e[D])?e[D]:[];t(r)})})}async function ie(t){return new Promise(e=>{chrome.storage.local.set({[D]:t},()=>e())})}async function ve(t,e){const r=await P(),n={id:Date.now(),name:t,value:e};return r.push(n),await ie(r),n}async function Ee(t){const r=(await P()).filter(n=>n.id!==t);await ie(r)}const W="filter-bar-component-input",oe="tampermonkey-format-title-button",Te="模糊",ae="tampermonkey-save-filter-button",Ce="⭐",Y="tampermonkey-saved-filters-dropdown",le="tampermonkey-filter-toolbar",Z="tampermonkey-input-wrapper",ke=50;let m=null,f=null,B=null,R=null,h=null,l=null,S=null;function Se(){new MutationObserver(()=>{const e=document.getElementById(W);e?(!l||!l.contains(e)||!f||!l.contains(f)||!h||!document.body.contains(h))&&K():m&&K()}).observe(document.body,{childList:!0,subtree:!0}),setTimeout(K,1e3)}async function $(t){if(t=t||document.getElementById(Y),!t)return;const e=await P();t.innerHTML="";const r=document.createElement("option");if(r.value="",r.textContent=e.length>0?"常用筛选...":"无保存的筛选",t.appendChild(r),e.forEach(n=>{const o=document.createElement("option");o.value=String(n.id),o.textContent=n.name,o.title=n.value,t.appendChild(o)}),e.length>0){const n=document.createElement("option");n.disabled=!0,n.textContent="────────",t.appendChild(n);const o=document.createElement("option");o.value="manage",o.textContent="🗑️ 管理筛选条件",o.style.fontStyle="italic",t.appendChild(o)}t.style.display="block"}function Ie(){const t=document.getElementById(ae);if(t)return t;const e=document.createElement("button");return e.id=ae,e.textContent=Ce,e.type="button",e.title="保存当前筛选条件",e.className="btn btn-sm",e.style.fontSize="12px",e.style.lineHeight="18px",e.style.height="28px",e.style.display="inline-flex",e.style.alignItems="center",e.style.gap="4px",e.style.marginLeft="0",e.style.padding="4px 8px",e.style.minWidth="auto",e.style.fontWeight="500",e.addEventListener("click",async r=>{r.preventDefault(),r.stopPropagation();const n=document.getElementById(W);if(!n)return;m=n;const o=m.value.trim();if(o!==""){const b=prompt("请输入筛选条件的名称：",o.substring(0,20));b&&b.trim()&&(await ve(b.trim(),m.value),alert("筛选条件已保存！"),await $())}else alert("请先输入筛选条件")}),e}function _e(){const t=document.getElementById(Y);if(t)return t;const e=document.createElement("select");return e.id=Y,e.className="form-select select-sm",e.style.minWidth="120px",e.style.maxWidth="200px",e.style.marginRight="8px",e.style.height="28px",e.style.fontSize="12px",e.style.lineHeight="18px",e.style.paddingLeft="12px",e.style.paddingRight="32px",e.style.border="1px solid var(--color-border-default, rgba(31, 35, 40, 0.15))",e.style.borderRadius="6px",e.style.backgroundColor="var(--color-canvas-default, #ffffff)",e.style.color="var(--color-fg-default, #24292f)",e.style.backgroundImage=`url("data:image/svg+xml,%3Csvg width='16' height='16' viewBox='0 0 16 16' fill='%23586069' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M4.427 7.427l3.396 3.396a.25.25 0 00.354 0l3.396-3.396A.25.25 0 0011.396 7H4.604a.25.25 0 00-.177.427z'/%3E%3C/svg%3E")`,e.style.backgroundRepeat="no-repeat",e.style.backgroundPosition="right 8px center",e.style.backgroundSize="16px",e.style.appearance="none",e.style.cursor="pointer",e.addEventListener("change",async r=>{const n=r.target.value;if(n){if(n==="manage")await Be();else{const o=parseInt(n,10),V=(await P()).find(C=>C.id===o);V&&A(V.value)}r.target.value=""}}),$(e),e}function Ne(){const t=document.getElementById(oe);if(t)return t;const e=document.createElement("button");return e.id=oe,e.textContent=Te,e.type="button",e.title="转换为模糊搜索格式",e.className="btn-sm",e.style.position="absolute",e.style.top="50%",e.style.right="28px",e.style.transform="translateY(-50%)",e.style.zIndex="10",e.style.padding="3px 8px",e.style.fontSize="12px",e.style.height="24px",e.style.lineHeight="1",e.style.display="inline-flex",e.style.alignItems="center",e.style.justifyContent="center",e.style.border="1px solid var(--color-border-default, rgba(31, 35, 40, 0.15))",e.style.borderRadius="6px",e.style.backgroundColor="var(--color-btn-bg, #f6f8fa)",e.style.color="var(--color-fg-default, #24292f)",e.style.cursor="pointer",e.style.fontWeight="500",e.style.whiteSpace="nowrap",e.style.transition="background-color 0.2s, border-color 0.2s",e.addEventListener("click",r=>{r.preventDefault(),r.stopPropagation();const n=document.getElementById(W);if(!n)return;m=n;const o=m.value.trim();o!==""&&A(M(o))}),e}function Pe(){const t=document.getElementById(le);if(t)return t;const e=document.createElement("div");return e.id=le,e.style.display="flex",e.style.alignItems="center",e.style.marginBottom="4px",e.style.gap="0",e.style.paddingLeft="0",e.style.paddingRight="0",e.style.width="auto",e}function ge(){if(!m||!l||!f)return;m.style.width="100%",m.style.boxSizing="border-box";const t=f.style.display==="none";t&&(f.style.visibility="hidden",f.style.display="inline-flex");const e=f.offsetWidth;t&&(f.style.display="none",f.style.visibility="visible");const r=l.clientWidth-(parseFloat(getComputedStyle(l).paddingLeft)||0)-(parseFloat(getComputedStyle(l).paddingRight)||0),n=e+16;e>0&&r-n>=ke?(m.style.paddingRight=`${n}px`,f.style.display="inline-flex"):(m.style.paddingRight="8px",f.style.display="none")}function K(){const t=document.getElementById(W);if(!t){if(S&&l&&S.unobserve(l),f&&f.parentNode&&f.parentNode.removeChild(f),h&&h.parentNode&&h.parentNode.removeChild(h),l&&l.parentNode&&l.classList.contains(Z)){const n=l.parentNode;m&&document.body.contains(m)&&m.parentElement!==n&&(n.insertBefore(m,l),m.style.paddingRight="",m.style.width=""),n.removeChild(l)}m=null,l=null,f=null,h=null,B=null,R=null;return}if(m=t,m.parentElement&&m.parentElement.classList.contains(Z))l=m.parentElement;else{l=document.createElement("div"),l.classList.add(Z),l.style.position="relative";const n=getComputedStyle(m);if(l.style.display=n.display,n.display==="block"||n.display==="flex"?l.style.width="100%":n.display==="inline-block"&&n.width!=="auto"&&!n.width.includes("%")&&(l.style.width=n.width),m.parentElement&&getComputedStyle(m.parentElement).display.includes("flex")&&(l.style.flexGrow=n.flexGrow,l.style.flexShrink=n.flexShrink,l.style.flexBasis=n.flexBasis),m.parentNode)m.parentNode.insertBefore(l,m),l.appendChild(m);else{console.warn("[WXT] Filter input has no parent, cannot wrap.");return}}(!f||!l.contains(f))&&(f=Ne(),l.appendChild(f));let e=m.closest('[id="filter-bar-component"]');if(!e){console.warn("[WXT] Could not find filter-bar-component");return}let r=e.closest(".tokenized-filter-input-module__Box--w5A7b");if(!r&&(r=e.parentElement,!r)){console.warn("[WXT] Could not find tokenized filter container");return}if(!h||!document.body.contains(h))if(h=Pe(),r.parentNode)r.parentNode.insertBefore(h,r);else{console.warn("[WXT] Could not insert toolbar");return}(!R||!h.contains(R))&&(R=_e(),h.appendChild(R)),(!B||!h.contains(B))&&(B=Ie(),h.appendChild(B)),ge(),typeof ResizeObserver<"u"&&(S&&S.disconnect(),S=new ResizeObserver(()=>{requestAnimationFrame(ge)}),l&&S.observe(l)),$()}async function Be(){const t=await P();if(t.length===0){alert("没有保存的筛选条件");return}let e=`已保存的筛选条件：

`;t.forEach((n,o)=>{e+=`${o+1}. ${n.name}
   值: ${n.value}

`}),e+=`
输入要删除的筛选条件编号（1-${t.length}），或点击取消：`;const r=prompt(e);if(r){const n=parseInt(r,10)-1;if(n>=0&&n<t.length){const o=t[n];confirm(`确定要删除"${o.name}"吗？`)&&(await Ee(o.id),alert("筛选条件已删除"),await $())}else alert("无效的编号")}}const Re={matches:["https://github.com/orgs/*/projects/*","https://github.com/*/*/projects/*"],runAt:"document_idle",main(){Se()}};var Le=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Oe(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var me={exports:{}};(function(t,e){(function(r,n){n(t)})(typeof globalThis<"u"?globalThis:typeof self<"u"?self:Le,function(r){var n,o;if(!((o=(n=globalThis.chrome)==null?void 0:n.runtime)!=null&&o.id))throw new Error("This script should only be loaded in a browser extension.");if(typeof globalThis.browser>"u"||Object.getPrototypeOf(globalThis.browser)!==Object.prototype){const b="The message port closed before a response was received.",V=C=>{const Q={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:!1}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0},elements:{createSidebarPane:{minArgs:1,maxArgs:1}}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},goBack:{minArgs:0,maxArgs:1},goForward:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(Object.keys(Q).length===0)throw new Error("api-metadata.json has not been included in browser-polyfill");class ue extends WeakMap{constructor(i,g=void 0){super(g),this.createItem=i}get(i){return this.has(i)||this.set(i,this.createItem(i)),super.get(i)}}const Ve=s=>s&&typeof s=="object"&&typeof s.then=="function",Ae=(s,i)=>(...g)=>{C.runtime.lastError?s.reject(new Error(C.runtime.lastError.message)):i.singleCallbackArg||g.length<=1&&i.singleCallbackArg!==!1?s.resolve(g[0]):s.resolve(g)},H=s=>s==1?"argument":"arguments",He=(s,i)=>function(c,...x){if(x.length<i.minArgs)throw new Error(`Expected at least ${i.minArgs} ${H(i.minArgs)} for ${s}(), got ${x.length}`);if(x.length>i.maxArgs)throw new Error(`Expected at most ${i.maxArgs} ${H(i.maxArgs)} for ${s}(), got ${x.length}`);return new Promise((y,w)=>{if(i.fallbackToNoCallback)try{c[s](...x,Ae({resolve:y,reject:w},i))}catch(a){console.warn(`${s} API method doesn't seem to support the callback parameter, falling back to call it without a callback: `,a),c[s](...x),i.fallbackToNoCallback=!1,i.noCallback=!0,y()}else i.noCallback?(c[s](...x),y()):c[s](...x,Ae({resolve:y,reject:w},i))})},fe=(s,i,g)=>new Proxy(i,{apply(c,x,y){return g.call(x,s,...y)}});let G=Function.call.bind(Object.prototype.hasOwnProperty);const X=(s,i={},g={})=>{let c=Object.create(null),x={has(w,a){return a in s||a in c},get(w,a,v){if(a in c)return c[a];if(!(a in s))return;let p=s[a];if(typeof p=="function")if(typeof i[a]=="function")p=fe(s,s[a],i[a]);else if(G(g,a)){let N=He(a,g[a]);p=fe(s,s[a],N)}else p=p.bind(s);else if(typeof p=="object"&&p!==null&&(G(i,a)||G(g,a)))p=X(p,i[a],g[a]);else if(G(g,"*"))p=X(p,i[a],g["*"]);else return Object.defineProperty(c,a,{configurable:!0,enumerable:!0,get(){return s[a]},set(N){s[a]=N}}),p;return c[a]=p,p},set(w,a,v,p){return a in c?c[a]=v:s[a]=v,!0},defineProperty(w,a,v){return Reflect.defineProperty(c,a,v)},deleteProperty(w,a){return Reflect.deleteProperty(c,a)}},y=Object.create(s);return new Proxy(y,x)},J=s=>({addListener(i,g,...c){i.addListener(s.get(g),...c)},hasListener(i,g){return i.hasListener(s.get(g))},removeListener(i,g){i.removeListener(s.get(g))}}),Ge=new ue(s=>typeof s!="function"?s:function(g){const c=X(g,{},{getContent:{minArgs:0,maxArgs:0}});s(c)}),pe=new ue(s=>typeof s!="function"?s:function(g,c,x){let y=!1,w,a=new Promise(L=>{w=function(E){y=!0,L(E)}}),v;try{v=s(g,c,w)}catch(L){v=Promise.reject(L)}const p=v!==!0&&Ve(v);if(v!==!0&&!p&&!y)return!1;const N=L=>{L.then(E=>{x(E)},E=>{let te;E&&(E instanceof Error||typeof E.message=="string")?te=E.message:te="An unexpected error occurred",x({__mozWebExtensionPolyfillReject__:!0,message:te})}).catch(E=>{console.error("Failed to send onMessage rejected reply",E)})};return N(p?v:a),!0}),Xe=({reject:s,resolve:i},g)=>{C.runtime.lastError?C.runtime.lastError.message===b?i():s(new Error(C.runtime.lastError.message)):g&&g.__mozWebExtensionPolyfillReject__?s(new Error(g.message)):i(g)},xe=(s,i,g,...c)=>{if(c.length<i.minArgs)throw new Error(`Expected at least ${i.minArgs} ${H(i.minArgs)} for ${s}(), got ${c.length}`);if(c.length>i.maxArgs)throw new Error(`Expected at most ${i.maxArgs} ${H(i.maxArgs)} for ${s}(), got ${c.length}`);return new Promise((x,y)=>{const w=Xe.bind(null,{resolve:x,reject:y});c.push(w),g.sendMessage(...c)})},Ye={devtools:{network:{onRequestFinished:J(Ge)}},runtime:{onMessage:J(pe),onMessageExternal:J(pe),sendMessage:xe.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:xe.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},ee={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return Q.privacy={network:{"*":ee},services:{"*":ee},websites:{"*":ee}},X(C,Ye,Q)};r.exports=V(chrome)}else r.exports=globalThis.browser})})(me);var Fe=me.exports,ce=Oe(Fe);const Me={};function j(t,...e){}var De={debug:(...t)=>j(console.debug,...t),log:(...t)=>j(console.log,...t),warn:(...t)=>j(console.warn,...t),error:(...t)=>j(console.error,...t)},We=(k=class extends Event{constructor(e,r){super(k.EVENT_NAME,{}),this.newUrl=e,this.oldUrl=r}},ne(k,"EVENT_NAME",de("wxt:locationchange")),k);function de(t){const e=typeof Me>"u"?"build":"content";return`${ce.runtime.id}:${e}:${t}`}function $e(t){let e,r;return{run(){e==null&&(r=new URL(location.href),e=t.setInterval(()=>{let n=new URL(location.href);n.href!==r.href&&(window.dispatchEvent(new We(n,r)),r=n)},1e3))}}}var je=(T=class{constructor(e,r){F(this,_);F(this,z,window.self===window.top);F(this,I);F(this,q,$e(this));this.contentScriptName=e,this.options=r,ye(this,I,new AbortController),O(this,z)&&se(this,_,be).call(this),this.setTimeout(()=>{se(this,_,we).call(this)})}get signal(){return O(this,I).signal}abort(e){return O(this,I).abort(e)}get isInvalid(){return ce.runtime.id==null&&this.notifyInvalidated(),this.signal.aborted}get isValid(){return!this.isInvalid}onInvalidated(e){return this.signal.addEventListener("abort",e),()=>this.signal.removeEventListener("abort",e)}block(){return new Promise(()=>{})}setInterval(e,r){const n=setInterval(()=>{this.isValid&&e()},r);return this.onInvalidated(()=>clearInterval(n)),n}setTimeout(e,r){const n=setTimeout(()=>{this.isValid&&e()},r);return this.onInvalidated(()=>clearTimeout(n)),n}requestAnimationFrame(e){const r=requestAnimationFrame((...n)=>{this.isValid&&e(...n)});return this.onInvalidated(()=>cancelAnimationFrame(r)),r}requestIdleCallback(e,r){const n=requestIdleCallback((...o)=>{this.signal.aborted||e(...o)},r);return this.onInvalidated(()=>cancelIdleCallback(n)),n}addEventListener(e,r,n,o){var b;r==="wxt:locationchange"&&this.isValid&&O(this,q).run(),(b=e.addEventListener)==null||b.call(e,r.startsWith("wxt:")?de(r):r,n,{...o,signal:this.signal})}notifyInvalidated(){this.abort("Content script context invalidated"),De.debug(`Content script "${this.contentScriptName}" context invalidated`)}},z=new WeakMap,I=new WeakMap,q=new WeakMap,_=new WeakSet,be=function(){window.postMessage({type:T.SCRIPT_STARTED_MESSAGE_TYPE,contentScriptName:this.contentScriptName},"*")},we=function(){const e=r=>{var n,o;((n=r.data)==null?void 0:n.type)===T.SCRIPT_STARTED_MESSAGE_TYPE&&((o=r.data)==null?void 0:o.contentScriptName)===this.contentScriptName&&this.notifyInvalidated()};addEventListener("message",e),this.onInvalidated(()=>removeEventListener("message",e))},ne(T,"SCRIPT_STARTED_MESSAGE_TYPE","wxt:content-script-started"),T);function Je(){}function U(t,...e){}var Ue={debug:(...t)=>U(console.debug,...t),log:(...t)=>U(console.log,...t),warn:(...t)=>U(console.warn,...t),error:(...t)=>U(console.error,...t)},ze=(async()=>{try{const{main:t,...e}=Re,r=new je("content",e);return await t(r)}catch(t){throw Ue.error('The content script "content" crashed on startup!',t),t}})(),qe=ze;return qe}();
_content;
