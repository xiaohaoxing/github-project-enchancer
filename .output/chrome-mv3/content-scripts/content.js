var _content=function(){"use strict";var Je=Object.defineProperty;var we=p=>{throw TypeError(p)};var et=(p,A,b)=>A in p?Je(p,A,{enumerable:!0,configurable:!0,writable:!0,value:b}):p[A]=b;var oe=(p,A,b)=>et(p,typeof A!="symbol"?A+"":A,b),le=(p,A,b)=>A.has(p)||we("Cannot "+b);var z=(p,A,b)=>(le(p,A,"read from private field"),b?b.call(p):A.get(p)),U=(p,A,b)=>A.has(p)?we("Cannot add the same private member more than once"):A instanceof WeakSet?A.add(p):A.set(p,b),Ee=(p,A,b,q)=>(le(p,A,"write to private field"),q?q.call(p,b):A.set(p,b),b),ae=(p,A,b)=>(le(p,A,"access private method"),b);var R,P,Y,D,K,F,Ce,ke;function p(r){return r}const A="filter-bar-component-input";function b(r){var o,v;const e=document.getElementById(A);if(!e)return;const t=((o=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"value"))==null?void 0:o.set)||((v=Object.getOwnPropertyDescriptor(window.HTMLTextAreaElement.prototype,"value"))==null?void 0:v.set);t?t.call(e,r):e.value=r;const n=new Event("input",{bubbles:!0,cancelable:!0});e.dispatchEvent(n),e.focus()}function q(r){const e=r.trim();return e===""?e:`title:*${e}*`}const ge="github-project-saved-filters";function Se(r){try{const t=new URL(r).pathname.split("/").filter(Boolean);if(t[0]==="orgs"&&t[2]==="projects"&&t[3]){const n=t[1],o=t[3];return`org:${n}:project:${o}`}if(t[0]==="users"&&t[2]==="projects"&&t[3]){const n=t[1],o=t[3];return`user:${n}:project:${o}`}if(t.length>=4&&t[2]==="projects"&&t[3]){const n=t[0],o=t[1],v=t[3];return`repo:${n}/${o}:project:${v}`}}catch{}return null}function ce(r){const e=typeof location<"u"?location.href:"",t=e?Se(e):null;return t?`${ge}:${t}`:ge}async function J(){const r=ce();return new Promise(e=>{chrome.storage.local.get([r],t=>{const n=Array.isArray(t[r])?t[r]:[];e(n)})})}async function me(r){const e=ce();return new Promise(t=>{chrome.storage.local.set({[e]:r},()=>t())})}async function Te(r,e){const t=await J(),n={id:Date.now(),name:r,value:e};return t.push(n),await me(t),n}async function Ie(r){const t=(await J()).filter(n=>n.id!==r);await me(t)}const V="filter-bar-component-input",de="tampermonkey-format-title-button",Ne="Fuzzy",ue="tampermonkey-save-filter-button",ee="tampermonkey-saved-filters-dropdown",Le="tampermonkey-save-filter-popover",pe="tampermonkey-filter-toolbar",te="tampermonkey-input-wrapper",_e=50;let a=null,h=null,$=null,j=null,k=null,g=null,M=null,d=null;function Pe(){new MutationObserver(()=>{const e=document.getElementById(V);e?(!g||!g.contains(e)||!h||!g.contains(h)||!k||!document.body.contains(k))&&ne():a&&ne()}).observe(document.body,{childList:!0,subtree:!0}),setTimeout(ne,1e3)}async function H(r){if(r=r||document.getElementById(ee),!r)return;const e=await J();r.innerHTML="";const t=document.createElement("button");t.type="button",t.textContent=e.length>0?"Saved filters":"No saved filters",t.className="btn btn-sm",t.style.height="28px",t.style.fontSize="12px",t.style.lineHeight="18px",t.style.marginRight="8px",t.style.padding="4px 8px",t.style.cursor="pointer";const n=document.createElement("div");n.style.position="absolute",n.style.top="100%",n.style.left="0",n.style.zIndex="1000",n.style.minWidth="200px",n.style.padding="4px 0",n.style.marginTop="4px",n.style.border="1px solid var(--color-border-default, rgba(31, 35, 40, 0.15))",n.style.borderRadius="6px",n.style.backgroundColor="var(--color-canvas-default, #ffffff)",n.style.boxShadow="0 8px 24px rgba(140, 149, 159, 0.2)",n.style.display="none";const o=document.createElement("div");if(o.style.maxHeight="320px",o.style.overflowY="auto",e.length===0){const u=document.createElement("div");u.textContent="No saved filters",u.style.padding="8px 12px",u.style.fontSize="12px",u.style.color="var(--color-fg-muted, #57606a)",o.appendChild(u)}else e.forEach(u=>{const f=document.createElement("div");f.style.display="flex",f.style.alignItems="center",f.style.gap="10px",f.style.padding="8px 12px",f.style.cursor="pointer",f.addEventListener("mouseenter",()=>{f.style.backgroundColor="var(--color-canvas-subtle, #f6f8fa)"}),f.addEventListener("mouseleave",()=>{f.style.backgroundColor="transparent"});const S=document.createElement("span");S.textContent=u.name,S.title=u.value,S.style.flex="1",S.style.fontSize="12px",S.style.color="var(--color-fg-default, #24292f)",S.addEventListener("click",y=>{y.preventDefault(),y.stopPropagation(),b(u.value),n.style.display="none"});const x=document.createElement("button");x.type="button",x.textContent="",x.title="Delete",x.setAttribute("aria-label","Delete"),x.style.width="22px",x.style.height="22px",x.style.lineHeight="20px",x.style.fontSize="12px",x.style.textAlign="center",x.style.border="1px solid var(--color-border-default, rgba(31, 35, 40, 0.15))",x.style.borderRadius="4px",x.style.background="var(--color-btn-bg, #f6f8fa)",x.style.cursor="pointer",x.style.marginLeft="2px";{const y="http://www.w3.org/2000/svg",E=document.createElementNS(y,"svg");E.setAttribute("width","12"),E.setAttribute("height","12"),E.setAttribute("viewBox","0 0 16 16"),E.setAttribute("aria-hidden","true"),E.style.display="block",E.style.margin="auto",E.style.color="var(--color-fg-default, #24292f)";const B=document.createElementNS(y,"path");B.setAttribute("fill","currentColor"),B.setAttribute("d","M6.5 1h3a.5.5 0 01.5.5V3h3a.5.5 0 010 1h-.5l-.7 9.1A2 2 0 0110.81 15H5.19a2 2 0 01-1.99-1.9L2.5 4H2a.5.5 0 010-1h3V1.5A.5.5 0 015.5 1h1zm1 .999h1V3h-1V1.999zM3.5 4l.69 9.01a1 1 0 00.99.99h5.64a1 1 0 00.99-.99L12.5 4h-9z"),E.appendChild(B),x.appendChild(E)}x.addEventListener("click",async y=>{y.preventDefault(),y.stopPropagation(),await Ie(u.id),await H(r)}),f.appendChild(S),f.appendChild(x),o.appendChild(f)});n.appendChild(o);function v(){n.style.display="none",document.removeEventListener("click",L,!0)}function L(u){r!=null&&r.contains(u.target)||v()}t.addEventListener("click",u=>{u.preventDefault(),u.stopPropagation();const f=n.style.display==="none"?"block":"none";n.style.display=f,f==="block"?document.addEventListener("click",L,!0):document.removeEventListener("click",L,!0)}),r.style.position="relative",r.style.display="inline-block",r.appendChild(t),r.appendChild(n)}function Be(){const r=document.getElementById(ee);if(r)return r;const e=document.createElement("div");return e.id=ee,e.style.marginRight="8px",H(e),e}function Re(){const r=document.getElementById(ue);if(r)return r;const e=document.createElement("button");e.id=ue,e.textContent="",e.setAttribute("aria-label","Save current filter"),e.type="button",e.title="Save current filter",e.className="btn btn-sm",e.style.fontSize="12px",e.style.lineHeight="18px",e.style.height="28px",e.style.display="inline-flex",e.style.alignItems="center",e.style.gap="4px",e.style.marginLeft="0",e.style.padding="4px 8px",e.style.minWidth="auto",e.style.fontWeight="500";{const t="http://www.w3.org/2000/svg",n=document.createElementNS(t,"svg");n.setAttribute("width","16"),n.setAttribute("height","16"),n.setAttribute("viewBox","0 0 16 16"),n.setAttribute("aria-hidden","true"),n.style.display="block",n.style.color="var(--color-fg-default, #24292f)";const o=document.createElementNS(t,"path");o.setAttribute("fill","currentColor"),o.setAttribute("d","M8 12.027 3.693 14.5l.82-4.781L1 6.5l4.846-.703L8 1.5l2.154 4.297L15 6.5l-3.513 3.219.82 4.781L8 12.027z"),n.appendChild(o),e.appendChild(n)}return e.addEventListener("click",t=>{t.preventDefault(),t.stopPropagation(),Fe(e)}),e}function Me(){const r=document.getElementById(de);if(r)return r;const e=document.createElement("button");return e.id=de,e.textContent=Ne,e.type="button",e.title="Convert to fuzzy query",e.className="btn-sm",e.style.position="absolute",e.style.top="50%",e.style.right="28px",e.style.transform="translateY(-50%)",e.style.zIndex="10",e.style.padding="3px 8px",e.style.fontSize="12px",e.style.height="24px",e.style.lineHeight="1",e.style.display="inline-flex",e.style.alignItems="center",e.style.justifyContent="center",e.style.border="1px solid var(--color-border-default, rgba(31, 35, 40, 0.15))",e.style.borderRadius="6px",e.style.backgroundColor="var(--color-btn-bg, #f6f8fa)",e.style.color="var(--color-fg-default, #24292f)",e.style.cursor="pointer",e.style.fontWeight="500",e.style.whiteSpace="nowrap",e.style.transition="background-color 0.2s, border-color 0.2s",e.addEventListener("click",t=>{t.preventDefault(),t.stopPropagation();const n=document.getElementById(V);if(!n)return;a=n;const o=a.value.trim();o!==""&&b(q(o))}),e}function De(){const r=document.getElementById(pe);if(r)return r;const e=document.createElement("div");return e.id=pe,e.style.display="flex",e.style.alignItems="center",e.style.marginBottom="4px",e.style.gap="0",e.style.paddingLeft="0",e.style.paddingRight="0",e.style.width="auto",e}function Ae(){if(!a||!g||!h)return;a.style.width="100%",a.style.boxSizing="border-box";const r=h.style.display==="none";r&&(h.style.visibility="hidden",h.style.display="inline-flex");const e=h.offsetWidth;r&&(h.style.display="none",h.style.visibility="visible");const t=g.clientWidth-(parseFloat(getComputedStyle(g).paddingLeft)||0)-(parseFloat(getComputedStyle(g).paddingRight)||0),n=e+16;e>0&&t-n>=_e?(a.style.paddingRight=`${n}px`,h.style.display="inline-flex"):(a.style.paddingRight="8px",h.style.display="none")}function ne(){const r=document.getElementById(V);if(!r){if(M&&g&&M.unobserve(g),h&&h.parentNode&&h.parentNode.removeChild(h),k&&k.parentNode&&k.parentNode.removeChild(k),g&&g.parentNode&&g.classList.contains(te)){const n=g.parentNode;a&&document.body.contains(a)&&a.parentElement!==n&&(n.insertBefore(a,g),a.style.paddingRight="",a.style.width=""),n.removeChild(g)}a=null,g=null,h=null,k=null,$=null,j=null;return}if(a=r,a.parentElement&&a.parentElement.classList.contains(te))g=a.parentElement;else{g=document.createElement("div"),g.classList.add(te),g.style.position="relative";const n=getComputedStyle(a);if(g.style.display=n.display,n.display==="block"||n.display==="flex"?g.style.width="100%":n.display==="inline-block"&&n.width!=="auto"&&!n.width.includes("%")&&(g.style.width=n.width),a.parentElement&&getComputedStyle(a.parentElement).display.includes("flex")&&(g.style.flexGrow=n.flexGrow,g.style.flexShrink=n.flexShrink,g.style.flexBasis=n.flexBasis),a.parentNode)a.parentNode.insertBefore(g,a),g.appendChild(a);else{console.warn("[WXT] Filter input has no parent, cannot wrap.");return}}(!h||!g.contains(h))&&(h=Me(),g.appendChild(h));let e=a.closest('[id="filter-bar-component"]');if(!e){console.warn("[WXT] Could not find filter-bar-component");return}let t=e.closest(".tokenized-filter-input-module__Box--w5A7b");if(!t&&(t=e.parentElement,!t)){console.warn("[WXT] Could not find tokenized filter container");return}if(!k||!document.body.contains(k))if(k=De(),t.parentNode)t.parentNode.insertBefore(k,t);else{console.warn("[WXT] Could not insert toolbar");return}(!j||!k.contains(j))&&(j=Be(),k.appendChild(j)),(!$||!k.contains($))&&($=Re(),k.appendChild($)),Ae(),typeof ResizeObserver<"u"&&(M&&M.disconnect(),M=new ResizeObserver(()=>{requestAnimationFrame(Ae)}),g&&M.observe(g)),H()}function Fe(r){const e=document.getElementById(V);if(!e)return;a=e,d&&document.body.contains(d)&&d.remove(),d=document.createElement("div"),d.id=Le,d.style.position="absolute",d.style.zIndex="1000",d.style.padding="8px",d.style.border="1px solid var(--color-border-default, rgba(31, 35, 40, 0.15))",d.style.borderRadius="6px",d.style.background="var(--color-canvas-default, #ffffff)",d.style.boxShadow="0 8px 24px rgba(140, 149, 159, 0.2)",d.style.fontSize="12px";const t=document.createElement("input");t.type="text",t.placeholder="Filter name",t.value=(a.value||"").trim().substring(0,20),t.style.width="180px",t.style.marginRight="6px",t.style.padding="4px 6px",t.style.border="1px solid var(--color-border-default, rgba(31, 35, 40, 0.15))",t.style.borderRadius="4px";const n=document.createElement("button");n.type="button",n.textContent="Save",n.className="btn btn-sm",n.style.height="24px",n.style.padding="2px 8px",n.style.marginRight="6px";const o=document.createElement("button");o.type="button",o.textContent="Cancel",o.className="btn btn-sm",o.style.height="24px",o.style.padding="2px 8px";const v=document.createElement("div");v.style.display="flex",v.style.alignItems="center",v.appendChild(t),v.appendChild(n),v.appendChild(o),d.appendChild(v);function L(){document.removeEventListener("click",f,!0),document.removeEventListener("keydown",S,!0),d&&d.parentNode&&d.parentNode.removeChild(d),d=null}async function u(){var B;const y=t.value.trim(),E=((B=a==null?void 0:a.value)==null?void 0:B.trim())||"";if(!y||!E){L();return}await Te(y,E),await H(),L()}function f(y){!(d!=null&&d.contains(y.target))&&y.target!==r&&L()}function S(y){y.key==="Escape"&&L(),y.key==="Enter"&&(y.preventDefault(),u())}n.addEventListener("click",()=>void u()),o.addEventListener("click",()=>L()),document.addEventListener("click",f,!0),document.addEventListener("keydown",S,!0);const x=r.getBoundingClientRect();d.style.top=`${x.bottom+window.scrollY+6}px`,d.style.left=`${x.left+window.scrollX}px`,document.body.appendChild(d),t.focus()}const Oe={matches:["https://github.com/orgs/*/projects/*","https://github.com/*/*/projects/*"],runAt:"document_idle",main(){Pe()}};var $e=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function je(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var fe={exports:{}};(function(r,e){(function(t,n){n(r)})(typeof globalThis<"u"?globalThis:typeof self<"u"?self:$e,function(t){var n,o;if(!((o=(n=globalThis.chrome)==null?void 0:n.runtime)!=null&&o.id))throw new Error("This script should only be loaded in a browser extension.");if(typeof globalThis.browser>"u"||Object.getPrototypeOf(globalThis.browser)!==Object.prototype){const v="The message port closed before a response was received.",L=u=>{const f={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:!1}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0},elements:{createSidebarPane:{minArgs:1,maxArgs:1}}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},goBack:{minArgs:0,maxArgs:1},goForward:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(Object.keys(f).length===0)throw new Error("api-metadata.json has not been included in browser-polyfill");class S extends WeakMap{constructor(i,c=void 0){super(c),this.createItem=i}get(i){return this.has(i)||this.set(i,this.createItem(i)),super.get(i)}}const x=s=>s&&typeof s=="object"&&typeof s.then=="function",y=(s,i)=>(...c)=>{u.runtime.lastError?s.reject(new Error(u.runtime.lastError.message)):i.singleCallbackArg||c.length<=1&&i.singleCallbackArg!==!1?s.resolve(c[0]):s.resolve(c)},E=s=>s==1?"argument":"arguments",B=(s,i)=>function(m,...C){if(C.length<i.minArgs)throw new Error(`Expected at least ${i.minArgs} ${E(i.minArgs)} for ${s}(), got ${C.length}`);if(C.length>i.maxArgs)throw new Error(`Expected at most ${i.maxArgs} ${E(i.maxArgs)} for ${s}(), got ${C.length}`);return new Promise((T,I)=>{if(i.fallbackToNoCallback)try{m[s](...C,y({resolve:T,reject:I},i))}catch(l){console.warn(`${s} API method doesn't seem to support the callback parameter, falling back to call it without a callback: `,l),m[s](...C),i.fallbackToNoCallback=!1,i.noCallback=!0,T()}else i.noCallback?(m[s](...C),T()):m[s](...C,y({resolve:T,reject:I},i))})},be=(s,i,c)=>new Proxy(i,{apply(m,C,T){return c.call(C,s,...T)}});let Z=Function.call.bind(Object.prototype.hasOwnProperty);const Q=(s,i={},c={})=>{let m=Object.create(null),C={has(I,l){return l in s||l in m},get(I,l,N){if(l in m)return m[l];if(!(l in s))return;let w=s[l];if(typeof w=="function")if(typeof i[l]=="function")w=be(s,s[l],i[l]);else if(Z(c,l)){let O=B(l,c[l]);w=be(s,s[l],O)}else w=w.bind(s);else if(typeof w=="object"&&w!==null&&(Z(i,l)||Z(c,l)))w=Q(w,i[l],c[l]);else if(Z(c,"*"))w=Q(w,i[l],c["*"]);else return Object.defineProperty(m,l,{configurable:!0,enumerable:!0,get(){return s[l]},set(O){s[l]=O}}),w;return m[l]=w,w},set(I,l,N,w){return l in m?m[l]=N:s[l]=N,!0},defineProperty(I,l,N){return Reflect.defineProperty(m,l,N)},deleteProperty(I,l){return Reflect.deleteProperty(m,l)}},T=Object.create(s);return new Proxy(T,C)},re=s=>({addListener(i,c,...m){i.addListener(s.get(c),...m)},hasListener(i,c){return i.hasListener(s.get(c))},removeListener(i,c){i.removeListener(s.get(c))}}),Ke=new S(s=>typeof s!="function"?s:function(c){const m=Q(c,{},{getContent:{minArgs:0,maxArgs:0}});s(m)}),he=new S(s=>typeof s!="function"?s:function(c,m,C){let T=!1,I,l=new Promise(W=>{I=function(_){T=!0,W(_)}}),N;try{N=s(c,m,I)}catch(W){N=Promise.reject(W)}const w=N!==!0&&x(N);if(N!==!0&&!w&&!T)return!1;const O=W=>{W.then(_=>{C(_)},_=>{let ie;_&&(_ instanceof Error||typeof _.message=="string")?ie=_.message:ie="An unexpected error occurred",C({__mozWebExtensionPolyfillReject__:!0,message:ie})}).catch(_=>{console.error("Failed to send onMessage rejected reply",_)})};return O(w?N:l),!0}),Ze=({reject:s,resolve:i},c)=>{u.runtime.lastError?u.runtime.lastError.message===v?i():s(new Error(u.runtime.lastError.message)):c&&c.__mozWebExtensionPolyfillReject__?s(new Error(c.message)):i(c)},ve=(s,i,c,...m)=>{if(m.length<i.minArgs)throw new Error(`Expected at least ${i.minArgs} ${E(i.minArgs)} for ${s}(), got ${m.length}`);if(m.length>i.maxArgs)throw new Error(`Expected at most ${i.maxArgs} ${E(i.maxArgs)} for ${s}(), got ${m.length}`);return new Promise((C,T)=>{const I=Ze.bind(null,{resolve:C,reject:T});m.push(I),c.sendMessage(...m)})},Qe={devtools:{network:{onRequestFinished:re(Ke)}},runtime:{onMessage:re(he),onMessageExternal:re(he),sendMessage:ve.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:ve.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},se={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return f.privacy={network:{"*":se},services:{"*":se},websites:{"*":se}},Q(u,Qe,f)};t.exports=L(chrome)}else t.exports=globalThis.browser})})(fe);var We=fe.exports,xe=je(We);const ze={};function G(r,...e){}var Ue={debug:(...r)=>G(console.debug,...r),log:(...r)=>G(console.log,...r),warn:(...r)=>G(console.warn,...r),error:(...r)=>G(console.error,...r)},qe=(R=class extends Event{constructor(e,t){super(R.EVENT_NAME,{}),this.newUrl=e,this.oldUrl=t}},oe(R,"EVENT_NAME",ye("wxt:locationchange")),R);function ye(r){const e=typeof ze>"u"?"build":"content";return`${xe.runtime.id}:${e}:${r}`}function Ve(r){let e,t;return{run(){e==null&&(t=new URL(location.href),e=r.setInterval(()=>{let n=new URL(location.href);n.href!==t.href&&(window.dispatchEvent(new qe(n,t)),t=n)},1e3))}}}var He=(P=class{constructor(e,t){U(this,F);U(this,Y,window.self===window.top);U(this,D);U(this,K,Ve(this));this.contentScriptName=e,this.options=t,Ee(this,D,new AbortController),z(this,Y)&&ae(this,F,Ce).call(this),this.setTimeout(()=>{ae(this,F,ke).call(this)})}get signal(){return z(this,D).signal}abort(e){return z(this,D).abort(e)}get isInvalid(){return xe.runtime.id==null&&this.notifyInvalidated(),this.signal.aborted}get isValid(){return!this.isInvalid}onInvalidated(e){return this.signal.addEventListener("abort",e),()=>this.signal.removeEventListener("abort",e)}block(){return new Promise(()=>{})}setInterval(e,t){const n=setInterval(()=>{this.isValid&&e()},t);return this.onInvalidated(()=>clearInterval(n)),n}setTimeout(e,t){const n=setTimeout(()=>{this.isValid&&e()},t);return this.onInvalidated(()=>clearTimeout(n)),n}requestAnimationFrame(e){const t=requestAnimationFrame((...n)=>{this.isValid&&e(...n)});return this.onInvalidated(()=>cancelAnimationFrame(t)),t}requestIdleCallback(e,t){const n=requestIdleCallback((...o)=>{this.signal.aborted||e(...o)},t);return this.onInvalidated(()=>cancelIdleCallback(n)),n}addEventListener(e,t,n,o){var v;t==="wxt:locationchange"&&this.isValid&&z(this,K).run(),(v=e.addEventListener)==null||v.call(e,t.startsWith("wxt:")?ye(t):t,n,{...o,signal:this.signal})}notifyInvalidated(){this.abort("Content script context invalidated"),Ue.debug(`Content script "${this.contentScriptName}" context invalidated`)}},Y=new WeakMap,D=new WeakMap,K=new WeakMap,F=new WeakSet,Ce=function(){window.postMessage({type:P.SCRIPT_STARTED_MESSAGE_TYPE,contentScriptName:this.contentScriptName},"*")},ke=function(){const e=t=>{var n,o;((n=t.data)==null?void 0:n.type)===P.SCRIPT_STARTED_MESSAGE_TYPE&&((o=t.data)==null?void 0:o.contentScriptName)===this.contentScriptName&&this.notifyInvalidated()};addEventListener("message",e),this.onInvalidated(()=>removeEventListener("message",e))},oe(P,"SCRIPT_STARTED_MESSAGE_TYPE","wxt:content-script-started"),P);function nt(){}function X(r,...e){}var Ge={debug:(...r)=>X(console.debug,...r),log:(...r)=>X(console.log,...r),warn:(...r)=>X(console.warn,...r),error:(...r)=>X(console.error,...r)},Xe=(async()=>{try{const{main:r,...e}=Oe,t=new He("content",e);return await r(t)}catch(r){throw Ge.error('The content script "content" crashed on startup!',r),r}})(),Ye=Xe;return Ye}();
_content;
